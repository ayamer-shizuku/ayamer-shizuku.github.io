<!DOCTYPE html>
<html lang="zh-CN">
<head>
   <meta charset="UTF-8">
   <title>æ¸¸æˆä¸­å¿ƒ - JellyTime è®ºå›</title>
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
           font-family: "Microsoft Yahei", sans-serif;
       }
       body {
           max-width: 800px;
           margin: 0 auto;
           padding: 20px;
           background-color: #f7f8fa;
           padding-bottom: 80px; /* ä¸ºåº•éƒ¨å¯¼èˆªæ é¢„ç•™ç©ºé—´ */
       }
       header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 30px;
           padding-bottom: 15px;
           border-bottom: 1px solid #eee;
       }
       h1 a {
           color: #4299e1;
           text-decoration: none;
       }
       .game-container {
           background: #fff;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
           text-align: center;
       }
       .game-container h2 {
           color: #333;
           margin-bottom: 20px;
       }
       /* --- æ¸¸æˆæ¨¡å—åˆ‡æ¢æŒ‰é’® --- */
       .game-selector {
           margin-bottom: 20px;
           display: flex;
           gap: 10px;
           justify-content: center;
       }
       .game-btn {
           padding: 10px 20px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .game-btn.active {
           background-color: #3182ce;
       }
       /* --- åå®¹é“æ¸¸æˆæ ·å¼ --- */
       .level-selector {
           margin-bottom: 20px;
       }
       .level-btn {
           padding: 8px 16px;
           margin: 0 5px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
       }
       .level-btn.active {
           background-color: #3182ce;
       }
       .board {
           display: inline-grid;
           grid-template-columns: repeat(4, 80px);
           grid-template-rows: repeat(5, 80px);
           gap: 2px;
           background-color: #333;
           padding: 2px;
           border-radius: 6px;
           margin-bottom: 20px;
       }
       .tile {
           background-color: #4299e1;
           color: #fff;
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 24px;
           font-weight: bold;
           border-radius: 4px;
           cursor: pointer;
           transition: background-color 0.3s;
       }
       .tile:hover {
           background-color: #3182ce;
       }
       .tile.empty {
           background-color: #f7f8fa;
           cursor: default;
       }
       .tile.empty:hover {
           background-color: #f7f8fa;
       }
       .controls {
           margin-top: 20px;
       }
       .btn {
           padding: 10px 20px;
           margin: 0 10px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .btn:hover {
           background-color: #3182ce;
       }
       .message {
           margin-top: 20px;
           font-size: 18px;
           color: #4299e1;
           font-weight: bold;
       }
       /* --- é»‘å®¢æ¨¡å¼æ ·å¼ --- */
       .hacker-instructions {
           margin-bottom: 20px;
           color: #666;
       }
       .hacker-overlay {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: #000;
           color: #0f0;
           font-family: "Courier New", monospace;
           font-size: 14px;
           padding: 20px;
           box-sizing: border-box;
           overflow-y: auto;
           z-index: 9999;
           display: none;
       }
       .hacker-code {
           white-space: pre-wrap;
       }
       /* æ»šåŠ¨æ¡æ ·å¼ï¼ˆå¯é€‰ï¼‰ */
       .hacker-overlay::-webkit-scrollbar {
           width: 10px;
       }
       .hacker-overlay::-webkit-scrollbar-track {
           background: #111;
       }
       .hacker-overlay::-webkit-scrollbar-thumb {
           background: #0f0;
       }
       /* åº•éƒ¨å¯¼èˆªæ æ ·å¼ */
       .bottom-nav {
           position: fixed;
           bottom: 0;
           left: 0;
           width: 100%;
           height: 60px;
           background-color: #fff;
           border-top: 1px solid #eee;
           display: flex;
           justify-content: space-around;
           align-items: center;
           z-index: 998;
       }
       .nav-item {
           display: flex;
           flex-direction: column;
           align-items: center;
           text-decoration: none;
           color: #666;
           font-size: 12px;
       }
       .nav-icon {
           font-size: 24px;
           margin-bottom: 4px;
       }
       .nav-item.active {
           color: #4299e1;
       }
       /* --- æ‰‹æœºé€‚é…æ ·å¼ --- */
       .is-mobile body {
           max-width: 100%;
           padding: 10px;
       }
       .is-mobile .game-container {
           padding: 20px;
       }
       .is-mobile .board {
           grid-template-columns: repeat(4, 70æ§åˆ¶åŒºå°±æ˜¯ä½ åå®¹é“æ¸¸æˆé‡Œâ€œé‡æ–°å¼€å§‹â€å’Œâ€œæç¤ºâ€æŒ‰é’®æ‰€åœ¨çš„é‚£ä¸€å—åŒºåŸŸã€‚

ä¸è¿‡ï¼ŒæŠŠâ€œé»‘å®¢æ¨¡å¼â€æŒ‰é’®æ”¾åœ¨é‚£é‡Œä¼šæ˜¾å¾—æœ‰ç‚¹æ‹¥æŒ¤ã€‚æˆ‘å»ºè®®æŠŠå®ƒæ”¾åœ¨**æ¸¸æˆæ ‡é¢˜ä¸‹æ–¹**ï¼Œè¿™æ ·å¸ƒå±€æ›´æ¸…æ™°ï¼Œä¹Ÿæ›´ç¬¦åˆâ€œæ¨¡å—åˆ‡æ¢â€çš„é€»è¾‘ã€‚

ä¸‹é¢æ˜¯ä¿®æ”¹åçš„å®Œæ•´ `game.html` ä»£ç ï¼Œä½ ç›´æ¥å¤åˆ¶è¦†ç›–åŸæ–‡ä»¶å³å¯ã€‚

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
   <meta charset="UTF-8">
   <title>æ¸¸æˆä¸­å¿ƒ - JellyTime è®ºå›</title>
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
           font-family: "Microsoft Yahei", sans-serif;
       }
       body {
           max-width: 800px;
           margin: 0 auto;
           padding: 20px;
           background-color: #f7f8fa;
           padding-bottom: 80px; /* ä¸ºåº•éƒ¨å¯¼èˆªæ é¢„ç•™ç©ºé—´ */
       }
       header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 30px;
           padding-bottom: 15px;
           border-bottom: 1px solid #eee;
       }
       h1 a {
           color: #4299e1;
           text-decoration: none;
       }
       .game-container {
           background: #fff;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
           text-align: center;
       }
       .game-container h2 {
           color: #333;
           margin-bottom: 20px;
       }
       /* --- æ¸¸æˆæ¨¡å—åˆ‡æ¢æŒ‰é’® --- */
       .game-selector {
           margin-bottom: 20px;
           display: flex;
           gap: 10px;
           justify-content: center;
       }
       .game-btn {
           padding: 10px 20px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .game-btn.active {
           background-color: #3182ce;
       }
       /* --- åå®¹é“æ¸¸æˆæ ·å¼ --- */
       .level-selector {
           margin-bottom: 20px;
       }
       .level-btn {
           padding: 8px 16px;
           margin: 0 5px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
       }
       .level-btn.active {
           background-color: #3182ce;
       }
       .board {
           display: inline-grid;
           grid-template-columns: repeat(4, 80px);
           grid-template-rows: repeat(5, 80px);
           gap: 2px;
           background-color: #333;
           padding: 2px;
           border-radius: 6px;
           margin-bottom: 20px;
       }
       .tile {
           background-color: #4299e1;
           color: #fff;
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 24px;
           font-weight: bold;
           border-radius: 4px;
           cursor: pointer;
           transition: background-color 0.3s;
       }
       .tile:hover {
           background-color: #3182ce;
       }
       .tile.empty {
           background-color: #f7f8fa;
           cursor: default;
       }
       .tile.empty:hover {
           background-color: #f7f8fa;
       }
       .controls {
           margin-top: 20px;
       }
       .btn {
           padding: 10px 20px;
           margin: 0 10px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .btn:hover {
           background-color: #3182ce;
       }
       .message {
           margin-top: 20px;
           font-size: 18px;
           color: #4299e1;
           font-weight: bold;
       }
       /* --- é»‘å®¢æ¨¡å¼æ ·å¼ --- */
       .hacker-instructions {
           margin-bottom: 20px;
           color: #666;
       }
       .hacker-overlay {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: #000;
           color: #0f0;
           font-family: "Courier New", monospace;
           font-size: 14px;
           padding: 20px;
           box-sizing: border-box;
           overflow-y: auto;
           z-index: 9999;
           display: none;
       }
       .hacker-code {
           white-space: pre-wrap;
       }
       /* æ»šåŠ¨æ¡æ ·å¼ï¼ˆå¯é€‰ï¼‰ */
       .hacker-overlay::-webkit-scrollbar {
           width: 10px;
       }
       .hacker-overlay::-webkit-scrollbar-track {
           background: #111;
       }
       .hacker-overlay::-webkit-scrollbar-thumb {
           background: #0f0;
       }
       /* åº•éƒ¨å¯¼èˆªæ æ ·å¼ */
       .bottom-nav {
           position: fixed;
           bottom: 0;
           left: 0;
           width: 100%;
           height: 60px;
           background-color: #fff;
           border-top: 1px solid #eee;
           display: flex;
           justify-content: space-around;
           align-items: center;
           z-index: 998;
       }
       .nav-item {
           display: flex;
           flex-direction: column;
           align-items: center;
           text-decoration: none;
           color: #666;
           font-size: 12px;
       }
       .nav-icon {
           font-size: 24px;
           margin-bottom: 4px;
       }
       .nav-item.active {
           color: #4299e1;
       }
       /* --- æ‰‹æœºé€‚é…æ ·å¼ --- */
       .is-mobile body {
           max-width: 100%;
           padding: 10px;
       }
       .is-mobile .game-container {
           padding: 20px;
       }
       .is-mobile .board {
           grid-template-columns: repeat(4, 70px);
           grid-template-rows: repeat(5, 70px);
       }
       .is-mobile .tile {
           font-size: 20px;
       }
       .is-mobile .btn {
           padding: 8px 16px;
           font-size: 14px;
       }
   </style>
</head>
<body>
   <header>
       <h1><a href="index.html">JellyTime è®ºå›</a></h1>
   </header>

   <div class="game-container">
       <h2>æ¸¸æˆä¸­å¿ƒ</h2>
       
       <!-- æ¸¸æˆæ¨¡å—åˆ‡æ¢æŒ‰é’® -->
       <div class="game-selector">
           <button class="game-btn active" data-game="huarong">åå®¹é“</button>
           <button class="game-btn" data-game="hacker">é»‘å®¢æ¨¡å¼</button>
       </div>

       <!-- åå®¹é“æ¸¸æˆæ¨¡å— -->
       <div id="huarong-game" class="game-module active">
           <div class="level-selector">
               <button class="level-btn active" data-level="1">1</button>
               <button class="level-btn" data-level="2">2</button>
               <button class="level-btn" data-level="3">3</button>
               <!-- æ›´å¤šå…³å¡æŒ‰é’®... -->
           </div>
           <div class="board" id="board"></div>
           <div class="controls">
               <button class="btn" id="restartBtn">é‡æ–°å¼€å§‹</button>
               <button class="btn" id="hintBtn">æç¤º</button>
           </div>
           <div class="message" id="message"></div>
       </div>

       <!-- é»‘å®¢æ¨¡å¼æ¨¡å— -->
       <div id="hacker-game" class="game-module">
           <p class="hacker-instructions">æŒ‰ä¸‹ç©ºæ ¼é”®å¼€å§‹ç”Ÿæˆä»£ç ï¼ŒæŒ‰ Esc é”®é€€å‡ºã€‚</p>
           <div id="hackerOverlay" class="hacker-overlay">
               <div id="hackerCode" class="hacker-code"></div>
           </div>
       </div>
   </div>

   <!-- åº•éƒ¨å¯¼èˆªæ  -->
   <nav class="bottom-nav">
       <a href="index.html" class="nav-item">
           <span class="nav-icon">ğŸ </span>
           <span class="nav-text">é¦–é¡µ</span>
       </a>
       <a href="login.html" class="nav-item">
           <span class="nav-icon">ğŸ‘¤</span>
           <span class="nav-text">ç™»å½•</span>
       </a>
       <a href="game.html" class="nav-item active">
           <span class="nav-icon">ğŸ®</span>
           <span class="nav-text">æ¸¸æˆ</span>
       </a>
   </nav>

   <script>
       // --- è®¾å¤‡æ£€æµ‹æ’ä»¶ ---
       (function() {
           function detectDevice() {
               const userAgent = navigator.userAgent || navigator.vendor || window.opera;
               const isMobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
               const body = document.body;
               if (isMobile) {
                   body.classList.add('is-mobile');
                   body.classList.remove('is-desktop');
               } else {
                   body.classList.add('is-desktop');
                   body.classList.remove('is-mobile');
               }
           }
           window.addEventListener('DOMContentLoaded', detectDevice);
           window.addEventListener('resize', detectDevice);
       })();

       // --- æ¸¸æˆæ¨¡å—åˆ‡æ¢åŠŸèƒ½ ---
       const gameBtns = document.querySelectorAll('.game-btn');
       const gameModules = document.querySelectorAll('.game-module');

       gameBtns.forEach(btn => {
           btn.addEventListener('click', () => {
               // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„ active ç±»
               gameBtns.forEach(b => b.classList.remove('active'));
               // ç»™å½“å‰ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ  active ç±»
               btn.classList.add('active');
               
               // éšè—æ‰€æœ‰æ¸¸æˆæ¨¡å—
               gameModules.forEach(module => module.classList.remove('active'));
               // æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„æ¸¸æˆæ¨¡å—
               const gameId = btn.dataset.game + '-game';
               document.getElementById(gameId).classList.add('active');
           });
       });

       // --- åå®¹é“æ¸¸æˆé€»è¾‘ ---
       const board = document.getElementById('board');
       const message = document.getElementById('message');
       const restartBtn = document.getElementById('restartBtn');
       const hintBtn = document.getElementById('hintBtn');
       const levelBtns = document.querySelectorAll('.level-btn');

       // æ¸¸æˆæ•°æ®
       let currentLevel = 1;
       let tiles = [];
       let emptyPos = { row: 4, col: 3 }; // åˆå§‹ç©ºç™½ä½ç½®

       // å…³å¡æ•°æ®ï¼ˆç¤ºä¾‹ï¼Œä½ å¯ä»¥æ‰©å±•åˆ°20å…³ï¼‰
       const levels = [
           // ç¬¬1å…³
           [
               [1, 2, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ],
           // ç¬¬2å…³
           [
               [2, 1, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ],
           // æ›´å¤šå…³å¡...
       ];

       // åˆå§‹åŒ–æ¸¸æˆ
       function initGame(level) {
           currentLevel = level;
           tiles = levels[level - 1].map(row => [...row]);
           emptyPos = findEmptyPos();
           renderBoard();
           message.textContent = '';
           updateLevelButtons();
       }

       // æ‰¾åˆ°ç©ºç™½ä½ç½®
       function findEmptyPos() {
           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   if (tiles[row][col] === 0) {
                       return { row, col };
                   }
               }
           }
           return { row: 0, col: 0 };
       }

       // æ¸²æŸ“æ¸¸æˆæ¿
       function renderBoard() {
           board.innerHTML = '';
           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   const tile = document.createElement('div');
                   tile.className = 'tile';
                   if (tiles[row][col] === 0) {
                       tile.classList.add('empty');
                   } else {
                       tile.textContent = tiles[row][col];
                       tile.addEventListener('click', () => moveTile(row, col));
                   }
                   board.appendChild(tile);
               }
           }
       }

       // ç§»åŠ¨æ–¹å—
       function moveTile(row, col) {
           // æ£€æŸ¥æ˜¯å¦å¯ä»¥ç§»åŠ¨
           if (
               (row === emptyPos.row && Math.abs(col - emptyPos.col) === 1) ||
               (col === emptyPos.col && Math.abs(row - emptyPos.row) === 1)
           ) {
               // äº¤æ¢ä½ç½®
               [tiles[row][col], tiles[emptyPos.row][emptyPos.col]] =
               [tiles[emptyPos.row][emptyPos.col], tiles[row][col]];
               emptyPos = { row, col };
               renderBoard();
               checkWin();
           }
       }

       // æ£€æŸ¥æ˜¯å¦è·èƒœ
       function checkWin() {
           const winPattern = [
               [1, 2, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ];

           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   if (tiles[row][col] !== winPattern[row][col]) {
                       return false;
                   }
               }
           }

           message.textContent = `æ­å–œï¼ä½ é€šè¿‡äº†ç¬¬${currentLevel}å…³ï¼`;
           if (currentLevel < levels.length) {
               setTimeout(() => {
                   initGame(currentLevel + 1);
               }, 2000);
           } else {
               message.textContent = 'æ­å–œï¼ä½ é€šå…³äº†æ‰€æœ‰å…³å¡ï¼';
           }
           return true;
       }

       // æ›´æ–°å…³å¡æŒ‰é’®çŠ¶æ€
       function updateLevelButtons() {
           levelBtns.forEach(btn => {
               btn.classList.toggle('active', parseInt(btn.dataset.level) === currentLevel);
           });
       }

       // äº‹ä»¶ç›‘å¬
       restartBtn.addEventListener('click', () => initGame(currentLevel));
       hintBtn.addEventListener('click', () => {
           // ç®€å•çš„æç¤ºï¼šæ˜¾ç¤ºå½“å‰ç©ºç™½ä½ç½®
           message.textContent = `ç©ºç™½ä½ç½®åœ¨ç¬¬${emptyPos.row + 1}è¡Œç¬¬${emptyPos.col + 1}åˆ—`;
       });

       levelBtns.forEach(btn => {
           btn.addEventListener('click', () => {
               const level = parseInt(btn.dataset.level);
               if (level <= levels.length) {
                   initGame(level);
               }
           });
       });

       // --- é»‘å®¢æ¨¡å¼åŠŸèƒ½ ---
       const hackerOverlay = document.getElementById('hackerOverlay');
       const hackerCode = document.getElementById('hackerCode');
       let hackerInterval;

       // éšæœºç”Ÿæˆä»£ç ç‰‡æ®µ
       function generateRandomCode() {
           const codeTypes = [
               'python', 'javascript', 'c++', 'java', 'bash', 'html'
           ];

           const codeSnippets = {
               python: [
                   'import os',
                   'import sys',
                   'import requests',
                   'from bs4 import BeautifulSoup',
                   'def hack(target):',
                   '    response = requests.get(target)',
                   '    soup = BeautifulSoup(response.text, \'html.parser\')',
                   '    for link in soup.find_all(\'a\'):',
                   '        print(link.get(\'href\'))',
   


