<!DOCTYPE html>
<html lang="zh-CN">
<head>
   <meta charset="UTF-8">
   <title>Ê∏∏Êàè‰∏≠ÂøÉ - JellyTime ËÆ∫Âùõ</title>
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
           font-family: "Microsoft Yahei", sans-serif;
       }
       body {
           max-width: 800px;
           margin: 0 auto;
           padding: 20px;
           background-color: #f7f8fa;
           padding-bottom: 80px;
       }
       header {
           display: flex;
           justify-content: space-between;
           align-items: center;
           margin-bottom: 30px;
           padding-bottom: 15px;
           border-bottom: 1px solid #eee;
       }
       h1 a {
           color: #4299e1;
           text-decoration: none;
       }
       .game-container {
           background: #fff;
           padding: 30px;
           border-radius: 10px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
           text-align: center;
       }
       .game-container h2 {
           color: #333;
           margin-bottom: 20px;
       }
       .game-selector {
           margin-bottom: 20px;
           display: flex;
           gap: 10px;
           justify-content: center;
       }
       .game-btn {
           padding: 10px 20px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .game-btn.active {
           background-color: #3182ce;
       }
       .game-module {
           display: none;
       }
       .game-module.active {
           display: block;
       }
       .level-selector {
           margin-bottom: 20px;
       }
       .level-btn {
           padding: 8px 16px;
           margin: 0 5px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
       }
       .level-btn.active {
           background-color: #3182ce;
       }
       .board {
           display: inline-grid;
           grid-template-columns: repeat(4, 80px);
           grid-template-rows: repeat(5, 80px);
           gap: 2px;
           background-color: #333;
           padding: 2px;
           border-radius: 6px;
           margin-bottom: 20px;
       }
       .tile {
           background-color: #4299e1;
           color: #fff;
           display: flex;
           align-items: center;
           justify-content: center;
           font-size: 24px;
           font-weight: bold;
           border-radius: 4px;
           cursor: pointer;
           transition: background-color 0.3s;
       }
       .tile:hover {
           background-color: #3182ce;
       }
       .tile.empty {
           background-color: #f7f8fa;
           cursor: default;
       }
       .tile.empty:hover {
           background-color: #f7f8fa;
       }
       .controls {
           margin-top: 20px;
       }
       .btn {
           padding: 10px 20px;
           margin: 0 10px;
           background-color: #4299e1;
           color: #fff;
           border: none;
           border-radius: 6px;
           cursor: pointer;
           font-size: 16px;
       }
       .btn:hover {
           background-color: #3182ce;
       }
       .message {
           margin-top: 20px;
           font-size: 18px;
           color: #4299e1;
           font-weight: bold;
       }
       .hacker-instructions {
           margin-bottom: 20px;
           color: #666;
       }
       .hacker-overlay {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           background: #000;
           color: #0f0;
           font-family: "Courier New", monospace;
           font-size: 14px;
           padding: 20px;
           box-sizing: border-box;
           overflow-y: auto;
           z-index: 9999;
           display: none;
       }
       .hacker-code {
           white-space: pre-wrap;
       }
       .hacker-overlay::-webkit-scrollbar {
           width: 10px;
       }
       .hacker-overlay::-webkit-scrollbar-track {
           background: #111;
       }
       .hacker-overlay::-webkit-scrollbar-thumb {
           background: #0f0;
       }
       .video-container {
           margin-top: 20px;
           text-align: center;
       }
       #gameVideo {
           max-width: 100%;
           max-height: 400px;
           border-radius: 8px;
           box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
       }
       .bottom-nav {
           position: fixed;
           bottom: 0;
           left: 0;
           width: 100%;
           height: 60px;
           background-color: #fff;
           border-top: 1px solid #eee;
           display: flex;
           justify-content: space-around;
           align-items: center;
           z-index: 998;
       }
       .nav-item {
           display: flex;
           flex-direction: column;
           align-items: center;
           text-decoration: none;
           color: #666;
           font-size: 12px;
       }
       .nav-icon {
           font-size: 24px;
           margin-bottom: 4px;
       }
       .nav-item.active {
           color: #4299e1;
       }
       .is-mobile body {
           max-width: 100%;
           padding: 10px;
       }
       .is-mobile .game-container {
           padding: 20px;
       }
       .is-mobile .board {
           grid-template-columns: repeat(4, 70px);
           grid-template-rows: repeat(5, 70px);
       }
       .is-mobile .tile {
           font-size: 20px;
       }
       .is-mobile .btn {
           padding: 8px 16px;
           font-size: 14px;
       }
   </style>
</head>
<body>
   <header>
       <h1><a href="index.html">JellyTime ËÆ∫Âùõ</a></h1>
   </header>

   <div class="game-container">
       <h2>Ê∏∏Êàè‰∏≠ÂøÉ</h2>
       <div class="game-selector">
           <button class="game-btn active" data-game="huarong">ÂçéÂÆπÈÅì</button>
           <button class="game-btn" data-game="hacker">ÈªëÂÆ¢Ê®°Âºè</button>
           <button class="game-btn" data-game="video">ËßÜÈ¢ëÊí≠Êîæ</button>
       </div>

       <div id="huarong-game" class="game-module active">
           <div class="level-selector">
               <button class="level-btn active" data-level="1">1</button>
               <button class="level-btn" data-level="2">2</button>
               <button class="level-btn" data-level="3">3</button>
           </div>
           <div class="board" id="board"></div>
           <div class="controls">
               <button class="btn" id="restartBtn">ÈáçÊñ∞ÂºÄÂßã</button>
               <button class="btn" id="hintBtn">ÊèêÁ§∫</button>
           </div>
           <div class="message" id="message"></div>
       </div>

       <div id="hacker-game" class="game-module">
           <p class="hacker-instructions">Êåâ‰∏ãÁ©∫Ê†ºÈîÆÂºÄÂßãÁîüÊàê‰ª£Á†ÅÔºåÊåâ Esc ÈîÆÈÄÄÂá∫„ÄÇ</p>
           <div id="hackerOverlay" class="hacker-overlay">
               <div id="hackerCode" class="hacker-code"></div>
           </div>
       </div>

       <div id="video-game" class="game-module">
           <h3>ËßÜÈ¢ëÊí≠Êîæ</h3>
           <div class="video-container">
               <video id="gameVideo" autoplay loop muted controls>
                   <source src="./„Åã„Åï„Å≠„Å¶„Å®nb666.mp4" type="video/mp4">
                   ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅ HTML5 ËßÜÈ¢ëÊí≠Êîæ„ÄÇ
               </video>
           </div>
       </div>
   </div>

   <nav class="bottom-nav">
       <a href="index.html" class="nav-item">
           <span class="nav-icon">üè†</span>
           <span class="nav-text">È¶ñÈ°µ</span>
       </a>
       <a href="login.html" class="nav-item">
           <span class="nav-icon">üë§</span>
           <span class="nav-text">ÁôªÂΩï</span>
       </a>
       <a href="game.html" class="nav-item active">
           <span class="nav-icon">üéÆ</span>
           <span class="nav-text">Ê∏∏Êàè</span>
       </a>
   </nav>

   <script>
       (function() {
           function detectDevice() {
               const userAgent = navigator.userAgent || navigator.vendor || window.opera;
               const isMobile = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(userAgent);
               const body = document.body;
               if (isMobile) {
                   body.classList.add('is-mobile');
                   body.classList.remove('is-desktop');
               } else {
                   body.classList.add('is-desktop');
                   body.classList.remove('is-mobile');
               }
           }
           window.addEventListener('DOMContentLoaded', detectDevice);
           window.addEventListener('resize', detectDevice);
       })();

       const gameBtns = document.querySelectorAll('.game-btn');
       const gameModules = document.querySelectorAll('.game-module');

       gameBtns.forEach(btn => {
           btn.addEventListener('click', () => {
               gameBtns.forEach(b => b.classList.remove('active'));
               btn.classList.add('active');
               
               gameModules.forEach(module => module.classList.remove('active'));
               const gameId = btn.dataset.game + '-game';
               const targetModule = document.getElementById(gameId);
               if (targetModule) {
                   targetModule.classList.add('active');
               }
           });
       });

       const board = document.getElementById('board');
       const message = document.getElementById('message');
       const restartBtn = document.getElementById('restartBtn');
       const hintBtn = document.getElementById('hintBtn');
       const levelBtns = document.querySelectorAll('.level-btn');

       let currentLevel = 1;
       let tiles = [];
       let emptyPos = { row: 4, col: 3 };

       const levels = [
           [
               [1, 2, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ],
           [
               [2, 1, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ],
           [
               [1, 3, 2, 4],
               [5, 7, 6, 8],
               [9, 11, 10, 12],
               [13, 14, 15, 0]
           ]
       ];

       function initGame(level) {
           currentLevel = level;
           tiles = levels[level - 1].map(row => [...row]);
           emptyPos = findEmptyPos();
           renderBoard();
           message.textContent = '';
           updateLevelButtons();
       }

       function findEmptyPos() {
           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   if (tiles[row][col] === 0) {
                       return { row, col };
                   }
               }
           }
           return { row: 0, col: 0 };
       }

       function renderBoard() {
           board.innerHTML = '';
           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   const tile = document.createElement('div');
                   tile.className = 'tile';
                   if (tiles[row][col] === 0) {
                       tile.classList.add('empty');
                   } else {
                       tile.textContent = tiles[row][col];
                       tile.addEventListener('click', () => moveTile(row, col));
                   }
                   board.appendChild(tile);
               }
           }
       }

       function moveTile(row, col) {
           if (
               (row === emptyPos.row && Math.abs(col - emptyPos.col) === 1) ||
               (col === emptyPos.col && Math.abs(row - emptyPos.row) === 1)
           ) {
               [tiles[row][col], tiles[emptyPos.row][emptyPos.col]] =
               [tiles[emptyPos.row][emptyPos.col], tiles[row][col]];
               emptyPos = { row, col };
               renderBoard();
               checkWin();
           }
       }

       function checkWin() {
           const winPattern = [
               [1, 2, 3, 4],
               [5, 6, 7, 8],
               [9, 10, 11, 12],
               [13, 14, 15, 0]
           ];

           for (let row = 0; row < 4; row++) {
               for (let col = 0; col < 4; col++) {
                   if (tiles[row][col] !== winPattern[row][col]) {
                       return false;
                   }
               }
           }

           message.textContent = `ÊÅ≠ÂñúÔºÅ‰Ω†ÈÄöËøá‰∫ÜÁ¨¨${currentLevel}ÂÖ≥ÔºÅ`;
           if (currentLevel < levels.length) {
               setTimeout(() => {
                   initGame(currentLevel + 1);
               }, 2000);
           } else {
               message.textContent = 'ÊÅ≠ÂñúÔºÅ‰Ω†ÈÄöÂÖ≥‰∫ÜÊâÄÊúâÂÖ≥Âç°ÔºÅ';
           }
           return true;
       }

       function updateLevelButtons() {
           levelBtns.forEach(btn => {
               btn.classList.toggle('active', parseInt(btn.dataset.level) === currentLevel);
           });
       }

       restartBtn.addEventListener('click', () => initGame(currentLevel));
       hintBtn.addEventListener('click', () => {
           message.textContent = `Á©∫ÁôΩ‰ΩçÁΩÆÂú®Á¨¨${emptyPos.row + 1}Ë°åÁ¨¨${emptyPos.col + 1}Âàó`;
       });

       levelBtns.forEach(btn => {
           btn.addEventListener('click', () => {
               const level = parseInt(btn.dataset.level);
               if (level <= levels.length) {
                   initGame(level);
               }
           });
       });

       const hackerOverlay = document.getElementById('hackerOverlay');
       const hackerCode = document.getElementById('hackerCode');
       let hackerInterval;

       function generateRandomCode() {
           const codeTypes = ['python', 'javascript', 'c++', 'java', 'bash', 'html'];
           const codeSnippets = {
               python: ['import os', 'import sys', 'import requests', 'from bs4 import BeautifulSoup', 'def hack(target):', '    response = requests.get(target)', '    soup = BeautifulSoup(response.text, \'html.parser\')', '    for link in soup.find_all(\'a\'):', '        print(link.get(\'href\'))', 'if __name__ == "__main__":', '    target = sys.argv[1]', '    hack(target)'],
               javascript: ['const http = require(\'http\');', 'const fs = require(\'fs\');', 'const server = http.createServer((req, res) => {', '    res.writeHead(200, {\'Content-Type\': \'text/plain\'});', '    res.end(\'Hello, World!\');', '});', 'server.listen(3000, \'127.0.0.1\', () => {', '    console.log(\'Server running at http://127.0.0.1:3000/\');', '});'],
               'c++': ['#include <iostream>', '#include <string>', 'using namespace std;', 'int main() {', '    string target;', '    cout << "Enter target IP: ";', '    cin >> target;', '    cout << "Hacking " << target << "..." << endl;', '    return 0;', '}'],
               java: ['public class Hacker {', '    public static void main(String[] args) {', '        String target = args[0];', '        System.out.println("Hacking " + target + "...");', '    }', '}'],
               bash: ['#!/bin/bash', 'target=$1', 'echo "Scanning $target..."', 'nmap -A $target', 'echo "Hacking $target..."'],
               html: ['<!DOCTYPE html>', '<html>', '<head>', '    <title>Hacker Page</title>', '</head>', '<body>', '    <h1>You have been hacked!</h1>', '</body>', '</html>']
           };
           const randomType = codeTypes[Math.floor(Math.random() * codeTypes.length)];
           const randomSnippet = codeSnippets[randomType][Math.floor(Math.random() * codeSnippets[randomType].length)];
           return randomSnippet;
       }

       function startHackerMode() {
           hackerOverlay.style.display = 'block';
           hackerCode.innerHTML = '';
           hackerInterval = setInterval(() => {
               const codeLine = generateRandomCode();
               hackerCode.innerHTML += codeLine + '\n';
               hackerOverlay.scrollTop = hackerOverlay.scrollHeight;
           }, 50);
       }

       function stopHackerMode() {
           clearInterval(hackerInterval);
           hackerOverlay.style.display = 'none';
       }

       document.addEventListener('keydown', (e) => {
           if (document.getElementById('hacker-game').classList.contains('active')) {
               if (e.keyCode === 32) {
                   e.preventDefault();
                   startHackerMode();
               }
               if (e.keyCode === 27) {
                   stopHackerMode();
               }
           }
       });

       hackerOverlay.addEventListener('click', stopHackerMode);

       window.addEventListener('DOMContentLoaded', () => {
           initGame(1);
       });
   </script>
</body>
</html>


