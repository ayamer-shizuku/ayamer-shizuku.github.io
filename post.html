<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¸–å­è¯¦æƒ… - JellyTime è®ºå›</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .post-detail {
            padding: 16px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .like-section {
            margin-bottom: 30px;
        }
        #like-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background-color: #4299e1;
            color: white;
            cursor: pointer;
            font-size: 14px;
        }
        #like-btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        .comment-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
        }
        .comment-input {
            margin: 10px 0;
        }
        .comment-input input, .comment-input textarea {
            width: 100%;
            padding: 8px;
            margin: 4px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        #submit-comment {
            padding: 8px 16px;
            background-color: #4299e1;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .comment-item {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        .comment-author {
            font-weight: bold;
            margin-bottom: 4px;
        }
        .comment-time {
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <header>
        <h1><a href="index.html">JellyTime è®ºå›</a></h1>
        <div style="text-align: right;">
            <a href="login.html" style="color: #4299e1; text-decoration: none;">æ‰‹æœºå·ç™»å½•</a>
        </div>
    </header>
    <main>
        <div class="post-detail">
            <h2 id="post-title">æ¬¢è¿å¸–</h2>
            <p id="post-content">è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€æ¡å¸–å­ï¼ğŸ‰</p>
            <p class="author">by ayamer-shizuku</p>
        </div>

        <!-- ç‚¹èµåŠŸèƒ½ -->
        <div class="like-section">
            <button id="like-btn">ğŸ‘ ç‚¹èµ (0)</button>
        </div>

        <!-- è¯„è®ºåŒº -->
        <div class="comment-section">
            <h3>è¯„è®ºåŒº</h3>
            <div id="comments-list"></div>
            <div class="comment-input">
                <input type="text" id="nickname" placeholder="ä½ çš„æ˜µç§°">
                <textarea id="comment-content" placeholder="å†™ä¸‹ä½ çš„è¯„è®º..." rows="3"></textarea>
                <button id="submit-comment">æäº¤è¯„è®º</button>
            </div>
        </div>
    </main>
    <footer>
        <p>Â© 2026 JellyTime è®ºå›</p>
    </footer>

    <script>
        // 1. åŠ è½½å¯¹åº”å¸–å­
        const urlParams = new URLSearchParams(window.location.search);
        const postId = urlParams.get('id');
        if (postId === '2') {
            document.getElementById('post-title').textContent = 'å¦‚ä½•ä½¿ç”¨è¿™ä¸ªè®ºå›ï¼Ÿ';
            document.getElementById('post-content').textContent = 'ä½ å¯ä»¥åœ¨è¿™é‡Œå‘å¸–ã€å›å¤ï¼Œå’Œå¤§å®¶äº¤æµï¼';
        }

        // 2. é˜²é‡å¤ç‚¹èµåŠŸèƒ½
        const likeBtn = document.getElementById('like-btn');
        const likeKey = `liked_${postId}`;
        let likeCount = localStorage.getItem(`likeCount_${postId}`) || 0;
        likeBtn.textContent = `ğŸ‘ ç‚¹èµ (${likeCount})`;
        if (localStorage.getItem(likeKey)) {
            likeBtn.disabled = true;
        }
        likeBtn.addEventListener('click', () => {
            likeCount++;
            likeBtn.textContent = `ğŸ‘ ç‚¹èµ (${likeCount})`;
            likeBtn.disabled = true;
            localStorage.setItem(likeKey, 'true');
            localStorage.setItem(`likeCount_${postId}`, likeCount);
        });

        // 3. æ˜µç§°è¯„è®ºåŠŸèƒ½
        const commentsList = document.getElementById('comments-list');
        const nicknameInput = document.getElementById('nickname');
        const commentContent = document.getElementById('comment-content');
        const submitBtn = document.getElementById('submit-comment');
        const commentsKey = `comments_${postId}`;

        // åŠ è½½å·²æœ‰è¯„è®º
        function loadComments() {
            const comments = JSON.parse(localStorage.getItem(commentsKey)) || [];
            commentsList.innerHTML = '';
            comments.forEach(comment => {
                const commentElement = document.createElement('div');
